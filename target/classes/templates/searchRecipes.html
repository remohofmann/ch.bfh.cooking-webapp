<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <title>title</title>
  <meta charset="utf-8">
  <link rel="stylesheet" th:href="@{/css/main_page.css}">
    <script th:src="@{/events.js}"></script>
</head>
<body onload="init();">


  <h1>Search for recipes</h1>
  <div id="searchDropdownDiv">
    <div th:replace="thFragments.html :: cuisineDropdown"></div>
    <div th:replace="thFragments.html :: dietDropdown"></div>
    <div th:replace="thFragments.html :: courseDropdown"></div>
    <div th:replace="thFragments.html :: ingredientDropdown"></div>
  </div>
    <br/>
    <button class="filterAddButton" id="filterRecipesButton">Filter recipes</button>

  <h1>Search results</h1>
    <div id="searchRecipesResults">
      <div th:each="recipe:${recipes}">
        <div th:replace="thFragments.html :: recipeTileFragment(
        name=${recipe.recipeName},
        description=${recipe.recipeDescription},
        duration=${recipe.recipeDuration})"></div>

      </div>
    </div>

  </div>

  <script>
    $(document).ready(function(){
      $(".recipeInformation").hide();
      $(".recipeTileFragment").click(function(){
        jQuery(this).children("div").toggle();    // code from: https://www.geeksforgeeks.org/jquery-children-with-examples/
      });
    });



    function showDropContent(dropDownBtnID) {   // code from: https://www.w3schools.com/howto/howto_js_dropdown.asp
      // alert(dropDownBtnID);
      document.getElementById(dropDownBtnID).classList.toggle("show");
    }

    // Close the dropdown menu if the user clicks outside of it
    window.onclick = function(event) {      // code from: https://www.w3schools.com/howto/howto_js_dropdown.asp
      if (!event.target.matches('.dropbtn')) {
        var dropdowns = document.getElementsByClassName("dropdown-content");
        var i;
        for (i = 0; i < dropdowns.length; i++) {
          var openDropdown = dropdowns[i];
          if (openDropdown.classList.contains('show')) {
            openDropdown.classList.remove('show');
          }
        }
      }
    }


  </script>
</body>

</html>
